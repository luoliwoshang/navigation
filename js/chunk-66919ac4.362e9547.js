(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66919ac4"],{"30f1":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"el"},[s("q-tab-panels",{staticClass:"shadow-2 rounded-borders",attrs:{animated:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:e.scene,callback:function(t){e.scene=t},expression:"scene"}},[s("q-tab-panel",{attrs:{name:"setting"}},[s("div",{staticClass:"control"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"子弹发射频率 越大越慢",filled:"",dense:""},model:{value:e.shootParam.own_side.frequency,callback:function(t){e.$set(e.shootParam.own_side,"frequency",t)},expression:"shootParam.own_side.frequency"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.shootParam.own_side.frequency,callback:function(t){e.$set(e.shootParam.own_side,"frequency",t)},expression:"shootParam.own_side.frequency"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"子弹单刻时间移动距离",filled:"",dense:""},model:{value:e.setting.bullet.single_shift,callback:function(t){e.$set(e.setting.bullet,"single_shift",e._n(t))},expression:"setting.bullet.single_shift"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.setting.bullet.single_shift,callback:function(t){e.$set(e.setting.bullet,"single_shift",t)},expression:"setting.bullet.single_shift"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"子弹伤害值",filled:"",dense:""},model:{value:e.setting.bullet.damage_amount,callback:function(t){e.$set(e.setting.bullet,"damage_amount",t)},expression:"setting.bullet.damage_amount"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.setting.bullet.damage_amount,callback:function(t){e.$set(e.setting.bullet,"damage_amount",t)},expression:"setting.bullet.damage_amount"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"己方生命值",filled:"",dense:""},model:{value:e.plane.hp,callback:function(t){e.$set(e.plane,"hp",t)},expression:"plane.hp"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.plane.hp,callback:function(t){e.$set(e.plane,"hp",t)},expression:"plane.hp"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"敌机撞击伤害值",filled:"",dense:""},model:{value:e.setting.enemy.damage_amount,callback:function(t){e.$set(e.setting.enemy,"damage_amount",t)},expression:"setting.enemy.damage_amount"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.setting.enemy.damage_amount,callback:function(t){e.$set(e.setting.enemy,"damage_amount",t)},expression:"setting.enemy.damage_amount"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"敌机单刻移动距离",filled:"",dense:""},model:{value:e.setting.enemy.single_shift,callback:function(t){e.$set(e.setting.enemy,"single_shift",e._n(t))},expression:"setting.enemy.single_shift"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.setting.enemy.single_shift,callback:function(t){e.$set(e.setting.enemy,"single_shift",t)},expression:"setting.enemy.single_shift"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"敌机生命值",filled:"",dense:""},model:{value:e.setting.enemy.hp,callback:function(t){e.$set(e.setting.enemy,"hp",t)},expression:"setting.enemy.hp"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.setting.enemy.hp,callback:function(t){e.$set(e.setting.enemy,"hp",t)},expression:"setting.enemy.hp"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-input",{attrs:{label:"敌机出现频率 越大越慢",filled:"",dense:""},model:{value:e.shootParam.enemy_side.frequency,callback:function(t){e.$set(e.shootParam.enemy_side,"frequency",t)},expression:"shootParam.enemy_side.frequency"}})],1),s("div",{staticClass:"col"},[s("q-slider",{attrs:{min:1,max:100},model:{value:e.shootParam.enemy_side.frequency,callback:function(t){e.$set(e.shootParam.enemy_side,"frequency",t)},expression:"shootParam.enemy_side.frequency"}})],1)]),s("q-separator")],1)]),s("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"plane"}},[s("div",{staticClass:"text-center q-py-md fit"},[s("q-btn-group",{attrs:{rounded:""}},[s("q-btn",{attrs:{push:"",color:"primary",label:"暂停"},on:{click:function(t){return e.play({status:"stop"})}}}),s("q-btn",{attrs:{push:"",color:"primary",label:"开始"},on:{click:function(t){return e.play({status:"start"})}}}),s("q-btn",{attrs:{push:"",icon:"settings",color:"primary"},on:{click:function(t){e.scene="setting"}}})],1)],1),s("div",{staticClass:"container",style:e.containerStyle},[s("div",[s("div",{staticClass:"plane",style:e.planeStyle,on:{mousedown:function(t){return t.stopPropagation(),e.touchstart(t)}}},[s("q-linear-progress",{staticClass:"hpLine",attrs:{value:e.plane.hp/100,color:"red",dark:"",stripe:"",rounded:"",size:"10px"}}),s("svg",{staticClass:"icon colorfulFont"},[s("use",{attrs:{"xlink:href":"#icon-feiji"}})])],1),e._l(e.bullets,(function(t,i){return s("div",{key:"bullet"+i,staticClass:"bullet",style:{left:t.pos.x+"px",top:t.pos.y+"px",width:t.size.width+"px",height:t.size.height+"px"}},[e._v(" || ")])})),e._l(e.enemies,(function(e,t){return s("div",{key:"enemy"+t,staticClass:"enemy",style:{left:e.pos.x+"px",top:e.pos.y+"px",width:e.size.width+"px",height:e.size.height+"px"}},[s("q-linear-progress",{staticClass:"hpLine",attrs:{value:e.hp/100}}),s("q-icon",{staticClass:"icon rotate-180",attrs:{name:"flight"}})],1)}))],2)])])],1)],1)},n=[],a=s("5530"),o=(s("4de4"),{name:"plane",data:function(){return{scene:"plane",play_state:{timer:null,interval:20,processing:!1},mouse:{prev:{pageX:0},con:{left:0,right:0},cur:{pageX:0},remove:{x:0}},container:{pos:{left:30,top:0},size:{width:200,height:400}},setting:{bullet:{pos:{x:0,y:0},size:{width:30,height:30},collide:{left:0,right:0,top:0,bottom:0},single_shift:1,damage_amount:10},enemy:{pos:{x:0,y:0},size:{width:30,height:30},collide:{left:0,right:0,top:0,bottom:0},hp:100,single_shift:2,damage_amount:50}},plane:{pos:{x:0,y:340},nextPos:{x:0},size:{width:50,height:50},collide:{left:0,right:0,top:0,bottom:0},hp:100},bullets:[],enemies:[],shootParam:{enemy_side:{request_total:0,frequency:100},own_side:{request_total:0,frequency:30}}}},computed:{containerStyle:function(){return{left:this.container.pos.left+"px",top:this.container.pos.top+"px",width:this.container.size.width+"px",height:this.container.size.height+"px"}},planeStyle:function(){return this.plane.collide={left:this.plane.pos.x,right:this.plane.pos.x+this.plane.size.width,top:this.plane.pos.y,bottom:this.plane.pos.y+this.plane.size.height},{left:this.plane.pos.x+"px",top:this.plane.pos.y+"px",width:this.plane.size.width+"px",height:this.plane.size.height+"px"}},borderArea:function(){return{left:this.container.pos.left,right:this.container.pos.left+this.container.size.width}},isNextEdge:function(){return this.plane.size.width+this.plane.nextPos.x+this.container.pos.left>=this.borderArea.right||this.plane.nextPos.x<=0},permitCreateBullet:function(){return this.shootParam.own_side.request_total%this.shootParam.own_side.frequency===0},permitCreateEnemy:function(){return this.shootParam.enemy_side.request_total%this.shootParam.enemy_side.frequency===0}},methods:{touchstart:function(e){var t=this;this.mouse.con.left=e.offsetX,this.mouse.con.right=this.plane.size.width-e.offsetX,this.mouse.prev.pageX=e.pageX;window.addEventListener("mousemove",this.plane_move);window.addEventListener("mouseup",(function(e){window.removeEventListener("mousemove",t.plane_move)}))},plane_move:function(e){this.mouse.remove.x=e.pageX-this.mouse.prev.pageX,this.mouse.prev.pageX=e.pageX,this.plane.nextPos.x+=this.mouse.remove.x,this.plane.pos.x=this.isNextEdge?this.plane.pos.x:this.plane.nextPos.x},shoot:function(){this.create_bullet(),this.play({status:"start"})},create_bullet:function(){this.shootParam.own_side.request_total+=1,this.permitCreateBullet&&this.bullets.push(Object(a["a"])(Object(a["a"])({},this.setting.bullet),{},{pos:{x:this.plane.pos.x+this.plane.size.width/2-this.setting.bullet.size.width/2,y:this.container.size.height-this.plane.size.height-this.setting.bullet.size.height}}))},create_enemy:function(){this.shootParam.enemy_side.request_total+=1,this.permitCreateEnemy&&this.enemies.push(Object(a["a"])(Object(a["a"])({},this.setting.enemy),{},{pos:{x:Math.floor(Math.random()*(this.container.size.width-this.setting.enemy.size.width))+1,y:0}}))},play:function(e){var t=this,s=e.status;"start"!==s||this.play_state.timer?"stop"===s&&(clearTimeout(this.play_state.timer),this.play_state.timer=null):this.play_state.timer=setInterval((function(){t.create_enemy(),t.create_bullet(),t.bullets=t.bullets.filter((function(e){e.pos.y+=-t.setting.bullet.single_shift,e.collide=t.get_collide(e);var s=t.is_hit_enemy(e);return e.collide.top>=-t.setting.bullet.size.height&&!s})),t.enemies=t.enemies.filter((function(e){e.pos.y+=t.setting.enemy.single_shift,e.collide=t.get_collide(e);var s=t.is_hit_own(e);return e.collide.top<=t.container.size.height+t.setting.enemy.size.height&&!s}))}),this.play_state.interval)},is_impact:function(e){var t=e.objA,s=e.objB,i=e.bottom_to_top,n=void 0===i||i,a=t.collide.right>s.collide.left&&t.collide.right<s.collide.right,o=t.collide.left<s.collide.right&&t.collide.left>s.collide.left,l=a||o,r=!1;return r=n?t.collide.top<s.collide.bottom:t.collide.bottom>s.collide.top,l&&r},get_collide:function(e){return{top:e.pos.y,bottom:e.pos.y+e.size.height,left:e.pos.x,right:e.pos.x+e.size.width}},is_hit_enemy:function(e){var t=this,s=(e.pos,e.size,e.damage_amount),i=!1;return this.enemies=this.enemies.filter((function(n){return!t.is_impact({objA:e,objB:n})||(i=!0,(n.hp-=s)>0)})),i},is_hit_own:function(e){var t=this.is_impact({objA:e,objB:this.plane,bottom_to_top:!1});return t&&(this.plane.hp-=e.damage_amount,this.plane.hp<=0&&this.$q.notify({type:"negative",message:"你已经die了"})),t}},mounted:function(){var e=this;this.bus.$emit("changeWorkBenchMainHeight",this.$refs.el.offsetHeight),this.bus.$on("backComponentsMain",(function(){e.play({status:"stop"}),e.scene="plane"}))},watch:{scene:function(){var e=this;this.$nextTick((function(){console.log(e.$refs.el.offsetHeight),e.bus.$emit("changeWorkBenchMainHeight",e.$refs.el.offsetHeight)}))}}}),l=o,r=(s("c1b3"),s("2877")),c=s("adad"),u=s("823b"),h=s("27f9"),p=s("c1d0"),d=s("eb85"),m=(s("a15b"),s("d81d"),s("2b0e")),f=s("87e8"),g=s("dde5"),b=m["a"].extend({name:"QBtnGroup",mixin:[f["a"]],props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},computed:{classes:function(){var e=this;return["unelevated","outline","flat","rounded","push","stretch","glossy"].filter((function(t){return!0===e[t]})).map((function(e){return"q-btn-group--".concat(e)})).join(" ")}},render:function(e){return e("div",{staticClass:"q-btn-group row no-wrap "+(!0===this.spread?"q-btn-group--spread":"inline"),class:this.classes,on:Object(a["a"])({},this.qListeners)},Object(g["c"])(this,"default"))}}),y=s("9c40"),v=(s("99af"),s("a9e3"),s("b7fa")),_=s("6642");function x(e,t,s){return{transform:!0===t?"translateX(".concat(!0===s.lang.rtl?"-":"","100%) scale3d(").concat(-e,",1,1)"):"scale3d(".concat(e,",1,1)")}}var q=m["a"].extend({name:"QLinearProgress",mixins:[f["a"],v["a"],Object(_["b"])({xs:2,sm:4,md:6,lg:10,xl:14})],props:{value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,instantFeedback:Boolean},computed:{motion:function(){return!0===this.indeterminate||!0===this.query},classes:function(){return"q-linear-progress"+(void 0!==this.color?" text-".concat(this.color):"")+(!0===this.reverse||!0===this.query?" q-linear-progress--reverse":"")+(!0===this.rounded?" rounded-borders":"")},trackStyle:function(){return x(void 0!==this.buffer?this.buffer:1,this.reverse,this.$q)},trackClass:function(){return"q-linear-progress__track--with".concat(!0===this.instantFeedback?"out":"","-transition")+" q-linear-progress__track--".concat(!0===this.isDark?"dark":"light")+(void 0!==this.trackColor?" bg-".concat(this.trackColor):"")},modelStyle:function(){return x(!0===this.motion?1:this.value,this.reverse,this.$q)},modelClasses:function(){return"q-linear-progress__model--with".concat(!0===this.instantFeedback?"out":"","-transition")+" q-linear-progress__model--".concat(!0===this.motion?"in":"","determinate")},stripeStyle:function(){return{width:100*this.value+"%"}},stripeClass:function(){return!0===this.reverse?"absolute-right":"absolute-left"},attrs:function(){return{role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":!0===this.indeterminate?void 0:this.value}}},render:function(e){var t=[e("div",{staticClass:"q-linear-progress__track absolute-full",style:this.trackStyle,class:this.trackClass}),e("div",{staticClass:"q-linear-progress__model absolute-full",style:this.modelStyle,class:this.modelClasses})];return!0===this.stripe&&!1===this.motion&&t.push(e("div",{staticClass:"q-linear-progress__stripe",style:this.stripeStyle,class:this.stripeClass})),e("div",{style:this.sizeStyle,class:this.classes,attrs:this.attrs,on:Object(a["a"])({},this.qListeners)},Object(g["a"])(t,this,"default"))}}),w=s("0016"),C=s("93dc"),k=s.n(C),z=Object(r["a"])(l,i,n,!1,null,"93f40c40",null);t["default"]=z.exports;k()(z,"components",{QTabPanels:c["a"],QTabPanel:u["a"],QInput:h["a"],QSlider:p["a"],QSeparator:d["a"],QBtnGroup:b,QBtn:y["a"],QLinearProgress:q,QIcon:w["a"]})},"72db3":function(e,t,s){},c1b3:function(e,t,s){"use strict";s("72db3")}}]);
//# sourceMappingURL=chunk-66919ac4.362e9547.js.map