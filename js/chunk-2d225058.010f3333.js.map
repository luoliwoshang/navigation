{"version":3,"sources":["webpack:///./src/components/Express/index.vue?bf78","webpack:///./src/libs/fetch.js","webpack:///./src/api/express.js","webpack:///src/components/Express/index.vue","webpack:///./src/components/Express/index.vue?6f86","webpack:///./node_modules/quasar/src/components/timeline/QTimeline.js","webpack:///./node_modules/quasar/src/components/timeline/QTimelineEntry.js","webpack:///./src/components/Express/index.vue"],"names":["_vm","this","_h","$createElement","_c","_self","style","background","staticClass","on","$event","preventDefault","stopPropagation","onSubmit","apply","arguments","staticStyle","attrs","_v","ref","rule","order","scopedSlots","_u","key","fn","proxy","model","value","callback","$$v","order_num","expression","carrier","carriers","item","courier_name_cn","current_carrier","show_timeline","_l","index","origin_info","info","idx","checkpoint_date","checkpoint_delivery_status","_s","tracking_detail","staticRenderFns","service","axios","create","baseURL","timeout","headers","validateStatus","status","interceptors","response","use","config","data","code","Message","error","message","includes","Promise","reject","Express","params","fetch","url","method","lang","name","props","express_data","computed","current_express_param","tracking_number","courier_code","methods","getExpressInfo","resolve","res","$refs","validate","hasError","formHasError","$q","notify","type","position","closeBtn","icon","color","mounted","$route","query","then","console","log","Vue","extend","mixins","DarkMixin","ListenersMixin","provide","__timeline","String","default","side","validator","v","layout","classes","isDark","render","h","class","qListeners","slot","inject","heading","Boolean","tag","avatar","title","subtitle","body","colorClass","reverse","dot","child","uniqueSlot","unshift","content","QIcon","domProps","src","concat","component","QCard","QItem","QCardSection","QBtn","QInput","QSelect","QItemSection","QCardActions","QDialog","QTimeline","QTimelineEntry"],"mappings":"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","file":"js/chunk-2d225058.010f3333.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('q-card',{style:({\n        background: 'linear-gradient(to top, #accbee 0%, #e7f0fd 100%)',\n      })},[_c('form',{staticClass:\"q-gutter-md\",on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onSubmit.apply(null, arguments)}}},[_c('q-item',[_c('q-card-section',{staticClass:\"q-pb-none\"},[_c('q-btn',{staticStyle:{\"color\":\"#ff0080\"},attrs:{\"flat\":\"\",\"round\":\"\",\"size\":\"lg\",\"icon\":\"local_shipping\"}})],1),_c('q-card-section',{staticClass:\"q-mt-md q-pt-none q-pa-none\"},[_c('div',[_c('div',{staticClass:\"text-h5 text-bold text-purple-5\"},[_vm._v(\"快递查询\")]),_c('div',{staticClass:\"text-subtitle2 text-cyan\"},[_vm._v(\"By Luoliwoshang\")])])])],1),_c('q-card-section',{staticClass:\"q-py-xs q-mb-none\"},[_c('q-input',{ref:\"order\",attrs:{\"rules\":_vm.rule.order,\"color\":\"purple-12\",\"label\":\"运单号\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"pin\"}})]},proxy:true}]),model:{value:(_vm.order_num),callback:function ($$v) {_vm.order_num=$$v},expression:\"order_num\"}}),_c('q-select',{ref:\"carrier\",attrs:{\"rules\":_vm.rule.carrier,\"label\":\"快递公司\",\"options\":_vm.carriers,\"option-label\":function (item) { return item.courier_name_cn; }},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"business\"}})]},proxy:true},{key:\"no-option\",fn:function(){return [_c('q-item',[_c('q-item-section',{staticClass:\"text-grey\"},[_vm._v(\" No results \")])],1)]},proxy:true}]),model:{value:(_vm.current_carrier),callback:function ($$v) {_vm.current_carrier=$$v},expression:\"current_carrier\"}})],1),_c('q-card-actions',{staticClass:\"q-my-none\"},[_c('q-btn',{staticClass:\"full-width\",attrs:{\"type\":\"submit\",\"push\":\"\",\"color\":\"deep-purple-3\",\"label\":\"查询\",\"size\":\"lg\"}})],1)],1)])],1),_c('q-dialog',{attrs:{\"no-route-dismiss\":\"\",\"position\":\"right\"},model:{value:(_vm.show_timeline),callback:function ($$v) {_vm.show_timeline=$$v},expression:\"show_timeline\"}},[_c('q-card',_vm._l((_vm.express_data),function(item,index){return _c('div',{key:index,staticClass:\"q-ma-lg\"},[_c('q-timeline',{attrs:{\"color\":\"secondary\"}},[_c('q-timeline-entry',{attrs:{\"heading\":\"\"}},[_vm._v(\" 快递信息 \")]),_vm._l((item.origin_info.trackinfo),function(info,idx){return _c('q-timeline-entry',{key:idx,attrs:{\"title\":info.checkpoint_date,\"subtitle\":info.checkpoint_delivery_status}},[_c('div',[_vm._v(\" \"+_vm._s(info.tracking_detail)+\" \")])])})],2)],1)}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\n\r\nconst service = axios.create({\r\n    baseURL: '/api',//vue.config.js 设置跨域\r\n    timeout: 10000,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n        \"Tracking-Api-Key\": \"33659c30-f818-4553-9844-9e34f79c8cfd\"\r\n    },\r\n    validateStatus(status) {\r\n        return status === 200\r\n    }\r\n})\r\n\r\nservice.interceptors.response.use(\r\n    config => {\r\n        if (config) {\r\n            switch (config.data.code) {\r\n                case 10010:\r\n                    Message.error('服务内部未知错误')\r\n                    break;\r\n                case 10002:\r\n                    Message.error('Body 参数校验错误')\r\n                    break;\r\n                case 0:\r\n                    break;\r\n                default:\r\n                    // Message.error(config.data.message)\r\n                    break;\r\n            }\r\n            return config.data\r\n        } else {\r\n            return Message.error(config.data.message)\r\n        }\r\n    },\r\n    error => {\r\n        if (error.message.includes('timeout')) {\r\n            Message.error('API 超时')\r\n        }\r\n        return Promise.reject(error)\r\n    }\r\n);\r\n\r\nexport default service\r\n","import fetch from '../libs/fetch'\r\n\r\n\r\nexport default class Express {\r\n\r\n  /**\r\n *\r\n * @description 获得所有物流商\r\n */\r\n  static getCarriers(params) {\r\n    return fetch({\r\n      url: '/v3/trackings/carriers',\r\n      method: 'get',\r\n      params: { lang: 'en', ...params }\r\n    })\r\n  }\r\n\r\n  /**\r\n *\r\n * @description 通过单号获得具体物流信息\r\n */\r\n  static getInfo(params) {\r\n    return fetch({\r\n      url: '/v3/trackings/get',\r\n      method: 'get',\r\n      params: { lang: 'cn', ...params }\r\n    })\r\n  }\r\n\r\n  /**\r\n*\r\n* @description 创建需要查询的单号\r\n*/\r\n  static createTrack(data) {\r\n    return fetch({\r\n      url: '/v3/trackings/create',\r\n      method: 'post',\r\n      data\r\n    })\r\n  }\r\n}\r\n","<template>\r\n  <div>\r\n    <div>\r\n      <q-card\r\n        :style=\"{\r\n          background: 'linear-gradient(to top, #accbee 0%, #e7f0fd 100%)',\r\n        }\"\r\n      >\r\n        <form @submit.prevent.stop=\"onSubmit\" class=\"q-gutter-md\">\r\n          <q-item>\r\n            <q-card-section class=\"q-pb-none\">\r\n              <q-btn\r\n                flat\r\n                round\r\n                size=\"lg\"\r\n                style=\"color: #ff0080\"\r\n                icon=\"local_shipping\"\r\n              />\r\n            </q-card-section>\r\n            <q-card-section class=\"q-mt-md q-pt-none q-pa-none\">\r\n              <div>\r\n                <div class=\"text-h5 text-bold text-purple-5\">快递查询</div>\r\n                <div class=\"text-subtitle2 text-cyan\">By Luoliwoshang</div>\r\n              </div>\r\n            </q-card-section>\r\n          </q-item>\r\n          <q-card-section class=\"q-py-xs q-mb-none\">\r\n            <q-input\r\n              ref=\"order\"\r\n              :rules=\"rule.order\"\r\n              color=\"purple-12\"\r\n              v-model=\"order_num\"\r\n              label=\"运单号\"\r\n            >\r\n              <template v-slot:prepend>\r\n                <q-icon name=\"pin\" />\r\n              </template>\r\n            </q-input>\r\n            <q-select\r\n              ref=\"carrier\"\r\n              :rules=\"rule.carrier\"\r\n              v-model=\"current_carrier\"\r\n              label=\"快递公司\"\r\n              :options=\"carriers\"\r\n              :option-label=\"(item) => item.courier_name_cn\"\r\n            >\r\n              <template v-slot:prepend>\r\n                <q-icon name=\"business\" />\r\n              </template>\r\n              <template v-slot:no-option>\r\n                <q-item>\r\n                  <q-item-section class=\"text-grey\">\r\n                    No results\r\n                  </q-item-section>\r\n                </q-item>\r\n              </template>\r\n            </q-select>\r\n          </q-card-section>\r\n          <q-card-actions class=\"q-my-none\">\r\n            <q-btn\r\n              type=\"submit\"\r\n              push\r\n              color=\"deep-purple-3\"\r\n              label=\"查询\"\r\n              class=\"full-width\"\r\n              size=\"lg\"\r\n            />\r\n          </q-card-actions>\r\n        </form>\r\n      </q-card>\r\n    </div>\r\n    <q-dialog no-route-dismiss position=\"right\" v-model=\"show_timeline\">\r\n      <q-card>\r\n        <div v-for=\"(item, index) in express_data\" :key=\"index\" class=\"q-ma-lg\">\r\n          <q-timeline color=\"secondary\">\r\n            <q-timeline-entry heading> 快递信息 </q-timeline-entry>\r\n            <q-timeline-entry\r\n              v-for=\"(info, idx) in item.origin_info.trackinfo\"\r\n              :key=\"idx\"\r\n              :title=\"info.checkpoint_date\"\r\n              :subtitle=\"info.checkpoint_delivery_status\"\r\n            >\r\n              <div>\r\n                {{ info.tracking_detail }}\r\n              </div>\r\n            </q-timeline-entry>\r\n          </q-timeline>\r\n        </div>\r\n      </q-card>\r\n    </q-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Express from \"@/api/express\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Express\",\r\n  props: [\"courier_code\", \"tracking_number\"], //通过路由获取查询参数\r\n  data() {\r\n    return {\r\n      show_timeline: false, //是否显示时间线\r\n      order_num: \"SF1315425317258\",\r\n      current_carrier: \"\",\r\n      rule: {\r\n        order: [(val) => (val && val.length > 0) || \"请输入运单号\"],\r\n        carrier: [() => this.current_carrier || \"请选择快递公司\"],\r\n      },\r\n      express_data: [], //所有运输信息\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"moduleExpress\", {\r\n      carriers: (state) => state.carriers,\r\n      tracking_info: (state) => state.tracking_info,\r\n    }),\r\n    current_express_param() {\r\n      return {\r\n        tracking_number: this.order_num,\r\n        courier_code: this.current_carrier.courier_code,\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"moduleExpress\", [\"SET_NEW_TRACKING_INFO\"]),\r\n    // 开始查询添加 添加入待查询 并开始查询\r\n    getExpressInfo() {\r\n      // return new Promise((resolve, reject) => {\r\n      //   Express.createTrack([this.current_express_param]).then(() => {\r\n      //     Express.getInfo(this.current_express_param).then((res) => {\r\n      //       // 添加到快递，设置到本地信息\r\n      //       if (\r\n      //         this.tracking_info.filter(\r\n      //           (e) =>\r\n      //             e.tracking_number ===\r\n      //             this.current_express_param.tracking_number\r\n      //         ).length === 0\r\n      //         // 判断是否已经存在，不存在则添加入本地\r\n      //       ) {\r\n      //         // 传入订单号，物流商中文名，物流商简码\r\n      //         this.SET_NEW_TRACKING_INFO({\r\n      //           ...this.current_express_param,\r\n      //           courier_name_cn: this.current_carrier.courier_name_cn,\r\n      //         });\r\n      //       }\r\n      //       this.express_data = res.data;\r\n      //       this.show_timeline = true;\r\n      //       resolve(res);\r\n      //     });\r\n      //   });\r\n      // });\r\n            return new Promise((resolve, reject) => {\r\n        Express.createTrack([this.current_express_param]).then(() => {\r\n          Express.getInfo(this.current_express_param).then((res) => {\r\n            // 添加到快递，设置到本地信息\r\n            if (\r\n              this.tracking_info.filter(\r\n                (e) =>\r\n                  e.tracking_number ===\r\n                  this.current_express_param.tracking_number\r\n              ).length === 0\r\n              // 判断是否已经存在，不存在则添加入本地\r\n            ) {\r\n              // 传入订单号，物流商中文名，物流商简码\r\n              this.SET_NEW_TRACKING_INFO({\r\n                ...this.current_express_param,\r\n                courier_name_cn: this.current_carrier.courier_name_cn,\r\n              });\r\n            }\r\n            this.express_data = res.data;\r\n            this.show_timeline = true;\r\n            resolve(res);\r\n          });\r\n        });\r\n      });\r\n    },\r\n    onSubmit() {\r\n      this.$refs.carrier.validate();\r\n      this.$refs.order.validate();\r\n      if (this.$refs.carrier.hasError || this.$refs.order.hasError) {\r\n        this.formHasError = true;\r\n        this.$q.notify({\r\n          type: \"warning\",\r\n          message: `请输入快递公司以及快递单号`,\r\n          position: \"top\",\r\n          closeBtn: \"我了解了\",\r\n        });\r\n      } else {\r\n        this.$q.notify({\r\n          icon: \"done\",\r\n          color: \"positive\",\r\n          message: \"获取成功\",\r\n        });\r\n        this.getExpressInfo();\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.$route.query.courier_code) {\r\n      // 查询之前的物流\r\n      this.current_carrier = {\r\n        courier_code: this.$route.query.courier_code,\r\n        courier_name_cn: this.$route.query.courier_name_cn,\r\n      };\r\n      this.order_num = this.$route.query.tracking_number;\r\n      this.getExpressInfo().then((res) => {\r\n        console.log(res);\r\n        this.$router.push(\"express\");\r\n      }); //查询路由传递的物流信息\r\n    } else {\r\n      console.log(\"添加新的快递查询\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import Vue from 'vue'\n\nimport DarkMixin from '../../mixins/dark.js'\nimport ListenersMixin from '../../mixins/listeners.js'\n\nimport { slot } from '../../utils/slot.js'\n\nexport default Vue.extend({\n  name: 'QTimeline',\n\n  mixins: [ DarkMixin, ListenersMixin ],\n\n  provide () {\n    return {\n      __timeline: this\n    }\n  },\n\n  props: {\n    color: {\n      type: String,\n      default: 'primary'\n    },\n    side: {\n      type: String,\n      default: 'right',\n      validator: v => ['left', 'right'].includes(v)\n    },\n    layout: {\n      type: String,\n      default: 'dense',\n      validator: v => ['dense', 'comfortable', 'loose'].includes(v)\n    }\n  },\n\n  computed: {\n    classes () {\n      return `q-timeline--${this.layout} q-timeline--${this.layout}--${this.side}` +\n        (this.isDark === true ? ' q-timeline--dark' : '')\n    }\n  },\n\n  render (h) {\n    return h('ul', {\n      staticClass: 'q-timeline',\n      class: this.classes,\n      on: { ...this.qListeners }\n    }, slot(this, 'default'))\n  }\n})\n","import Vue from 'vue'\n\nimport QIcon from '../icon/QIcon.js'\n\nimport ListenersMixin from '../../mixins/listeners.js'\n\nimport { slot, uniqueSlot } from '../../utils/slot.js'\n\nexport default Vue.extend({\n  name: 'QTimelineEntry',\n\n  inject: {\n    __timeline: {\n      default () {\n        console.error('QTimelineEntry needs to be child of QTimeline')\n      }\n    }\n  },\n\n  mixins: [ ListenersMixin ],\n\n  props: {\n    heading: Boolean,\n    tag: {\n      type: String,\n      default: 'h3'\n    },\n    side: {\n      type: String,\n      default: 'right',\n      validator: v => ['left', 'right'].includes(v)\n    },\n\n    icon: String,\n    avatar: String,\n\n    color: String,\n\n    title: String,\n    subtitle: String,\n    body: String\n  },\n\n  computed: {\n    colorClass () {\n      return `text-${this.color || this.__timeline.color}`\n    },\n\n    classes () {\n      return `q-timeline__entry--${this.side}` +\n        (this.icon !== void 0 || this.avatar !== void 0 ? ' q-timeline__entry--icon' : '')\n    },\n\n    reverse () {\n      return this.__timeline.layout === 'comfortable' && this.__timeline.side === 'left'\n    }\n  },\n\n  render (h) {\n    const child = uniqueSlot(this, 'default', [])\n\n    if (this.body !== void 0) {\n      child.unshift(this.body)\n    }\n\n    if (this.heading === true) {\n      const content = [\n        h('div'),\n        h('div'),\n        h(\n          this.tag,\n          { staticClass: 'q-timeline__heading-title' },\n          child\n        )\n      ]\n\n      return h('div', {\n        staticClass: 'q-timeline__heading',\n        on: { ...this.qListeners }\n      }, this.reverse === true ? content.reverse() : content)\n    }\n\n    let dot\n\n    if (this.icon !== void 0) {\n      dot = [\n        h(QIcon, {\n          staticClass: 'row items-center justify-center',\n          props: { name: this.icon }\n        })\n      ]\n    }\n    else if (this.avatar !== void 0) {\n      dot = [\n        h('img', {\n          staticClass: 'q-timeline__dot-img',\n          domProps: { src: this.avatar }\n        })\n      ]\n    }\n\n    const content = [\n      h('div', { staticClass: 'q-timeline__subtitle' }, [\n        h('span', slot(this, 'subtitle', [ this.subtitle ]))\n      ]),\n\n      h('div', {\n        staticClass: 'q-timeline__dot',\n        class: this.colorClass\n      }, dot),\n\n      h('div', { staticClass: 'q-timeline__content' }, [\n        h('h6', { staticClass: 'q-timeline__title' }, slot(this, 'title', [ this.title ]))\n      ].concat(child))\n    ]\n\n    return h('li', {\n      staticClass: 'q-timeline__entry',\n      class: this.classes,\n      on: { ...this.qListeners }\n    }, this.reverse === true ? content.reverse() : content)\n  }\n})\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=90d8a224&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QTimeline from 'quasar/src/components/timeline/QTimeline.js';\nimport QTimelineEntry from 'quasar/src/components/timeline/QTimelineEntry.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(component, 'components', {QCard,QItem,QCardSection,QBtn,QInput,QIcon,QSelect,QItemSection,QCardActions,QDialog,QTimeline,QTimelineEntry});\n"],"sourceRoot":""}